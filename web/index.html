<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SendMyNotice - California Preliminary Notices</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <script src="{{.SquareJsURL}}"></script>
    <style>
        /* CSS TOOLTIP */
        .tooltip-container { position: relative; display: inline-flex; align-items: center; }
        .tooltip-text {
            visibility: hidden; width: 240px; background-color: #1f2937; color: #fff;
            text-align: left; border-radius: 6px; padding: 10px; position: absolute;
            z-index: 50; bottom: 135%; left: 50%; transform: translateX(-50%);
            font-size: 0.75rem; line-height: 1.4; opacity: 0; transition: opacity 0.2s;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); font-weight: 400;
        }
        .tooltip-text::after {
            content: ""; position: absolute; top: 100%; left: 50%; margin-left: -5px;
            border-width: 5px; border-style: solid; border-color: #1f2937 transparent transparent transparent;
        }
        .tooltip-container:hover .tooltip-text { visibility: visible; opacity: 1; }
        
        .animate-fade-in-up { animation: fadeInUp 0.3s ease-out; }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen text-gray-900 font-sans flex flex-col">

    <nav class="w-full bg-white border-b border-gray-200 sticky top-0 z-40">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center gap-2">
                    <div class="bg-blue-600 text-white p-1.5 rounded-md font-bold text-lg shadow-sm">Sn</div>
                    <span class="font-bold text-xl tracking-tight text-gray-900">SendMyNotice</span>
                </div>
                <div class="flex items-center gap-4">
                    <a href="#facts" class="text-sm font-medium text-gray-600 hover:text-gray-900 hidden sm:block">Common Questions</a>
                    <div class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded border border-green-200 font-medium">
                        Civil Code § 8200 Compliant
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <main class="flex-grow max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-10 lg:py-16">
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 items-start">
            
            <div class="lg:col-span-5 space-y-8 pt-4">
                <div>
                    <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-blue-100 text-blue-800 mb-4 uppercase tracking-wide">
                        For Contractors & Suppliers
                    </span>
                    <h1 class="text-4xl font-extrabold tracking-tight text-gray-900 sm:text-5xl mb-4 leading-tight">
                        Secure your <br/> lien rights in <span class="text-blue-600">2 minutes.</span>
                    </h1>
                    <p class="text-lg text-gray-600 leading-relaxed">
                        Generate, print, and mail your California Preliminary Notice via <strong>USPS Certified Mail®</strong> instantly. No post office trips required.
                    </p>
                </div>

                <div class="space-y-6">
                    <div class="flex items-start">
                        <div class="flex-shrink-0 mt-1">
                            <div class="h-8 w-8 rounded-full bg-green-100 flex items-center justify-center">
                                <svg class="h-5 w-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            </div>
                        </div>
                        <div class="ml-4">
                            <h3 class="text-lg font-bold text-gray-900">USPS Certified Tracking</h3>
                            <p class="mt-1 text-sm text-gray-600">
                                You get a legal tracking number instantly. This is your proof of service, required by California law to protect your right to payment.
                            </p>
                        </div>
                    </div>

                    <div class="flex items-start">
                        <div class="flex-shrink-0 mt-1">
                            <div class="h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center">
                                <svg class="h-5 w-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg>
                            </div>
                        </div>
                        <div class="ml-4">
                            <h3 class="text-lg font-bold text-gray-900">Next-Day Handover</h3>
                            <p class="mt-1 text-sm text-gray-600">
                                Notices approved before 10 AM PST are printed and handed to USPS the same day. Includes instant PDF proof for your records.
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="pt-6 border-t border-gray-200">
                    <div class="flex gap-6 opacity-60 grayscale hover:grayscale-0 transition">
                         <span class="text-sm font-bold text-gray-600 flex items-center gap-1">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>
                            Stripe Secure
                         </span>
                         <span class="text-sm font-bold text-gray-600 flex items-center gap-1">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8h16v10zm-2-8l-6 6-4-4-1.4 1.4L12 16.8 19.4 11.4 18 10z"/></svg>
                            USPS Integrated
                         </span>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-7">
                <div class="bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden transform transition hover:shadow-2xl">
                    <div class="px-6 py-4 border-b border-gray-100 bg-gray-50 flex justify-between items-center">
                        <h2 class="font-bold text-gray-800">New Preliminary Notice</h2>
                        <span class="text-xs font-mono text-gray-500 bg-white border border-gray-200 px-2 py-1 rounded">SECURE FORM</span>
                    </div>
                    
                    <div class="p-6 sm:p-8">
                        <form hx-post="/web/preview" hx-target="#result" hx-swap="innerHTML" class="space-y-6">
                            
                            <div>
                                <div class="flex items-center gap-2 mb-3">
                                    <h3 class="text-xs font-bold text-gray-500 uppercase tracking-wider">Recipient (Property Owner)</h3>
                                    <div class="tooltip-container">
                                        <svg class="w-4 h-4 text-gray-400 hover:text-blue-500 cursor-help" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                        <span class="tooltip-text">Who pays the taxes? You must serve the legal owner.</span>
                                    </div>
                                </div>
                                <div class="space-y-3" id="owner-fields">
                                    <input type="text" name="to_name" placeholder="Full Legal Name" required 
                                           class="w-full bg-gray-50 border border-gray-200 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3 transition">
                                    
                                    <input type="text" name="to_address1" placeholder="Mailing Address" required 
                                           class="w-full bg-gray-50 border border-gray-200 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3 transition">
                                    
                                    <div class="grid grid-cols-2 gap-4">
                                        <input type="text" name="to_city" placeholder="City" required 
                                               class="w-full bg-gray-50 border border-gray-200 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3">
                                        <div class="grid grid-cols-2 gap-2">
                                            <input type="text" name="to_state" value="CA" readonly 
                                                   class="w-full bg-gray-100 border border-gray-200 text-gray-500 text-sm rounded-lg block p-3 cursor-not-allowed">
                                            <input type="text" name="to_zip" placeholder="Zip" required 
                                                   class="w-full bg-gray-50 border border-gray-200 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="pt-4 border-t border-gray-100">
                                <h3 class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-3">Job Details</h3>
                                <div class="space-y-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Description of Work</label>
                                        <input type="text" name="job_description" placeholder="e.g. Rough Carpentry & Materials" required 
                                               class="w-full bg-gray-50 border border-gray-200 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3">
                                    </div>

                                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                        <div>
                                            <div class="flex items-center gap-1 mb-1">
                                                <label class="block text-sm font-medium text-gray-700">Contract Value ($)</label>
                                            </div>
                                            <input type="text" name="estimated_price" id="price-input" placeholder="5,000.00" required 
                                                   class="w-full bg-gray-50 border border-gray-200 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-1">Your Role</label>
                                            <select name="sender_role" class="w-full bg-gray-50 border border-gray-200 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3">
                                                <option value="Subcontractor">Subcontractor</option>
                                                <option value="Material Supplier">Material Supplier</option>
                                                <option value="Direct Contractor">Direct Contractor</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Construction Lender (Optional)</label>
                                        <input type="text" name="lender_name" placeholder="Bank Name (if applicable)" 
                                               class="w-full bg-gray-50 border border-gray-200 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3">
                                    </div>
                                </div>
                            </div>

                            <input type="hidden" name="from_name" value="SendMyNotice Inc">
                            <input type="hidden" name="from_address1" value="55 Devine St">
                            <input type="hidden" name="from_city" value="San Jose">
                            <input type="hidden" name="from_state" value="CA">
                            <input type="hidden" name="from_zip" value="95110">

                            <button type="submit" class="w-full text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 font-bold rounded-lg text-lg px-5 py-4 text-center transition shadow-md">
                                Preview Notice
                            </button>
                        </form>
                    </div>
                </div>
                <div id="result"></div>
            </div>
        </div>

        <div id="facts" class="mt-24 bg-white border-y border-gray-200 py-16">
            <div class="max-w-4xl mx-auto px-4">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-extrabold text-gray-900">Why send a Preliminary Notice?</h2>
                    <p class="mt-2 text-lg text-gray-600">Common misconceptions cleared up.</p>
                </div>
                
                <div class="grid gap-8 md:grid-cols-3">
                    <div class="bg-gray-50 p-6 rounded-xl border border-gray-100">
                        <div class="text-blue-600 font-bold text-xl mb-2">1. It is NOT a Lien</div>
                        <p class="text-gray-600 text-sm leading-relaxed">
                            Sending this notice does <strong>not</strong> mean you are suing the owner or filing a lien. It is a purely informational document that protects your right to get paid later <em>if</em> a problem arises.
                        </p>
                    </div>
                    
                    <div class="bg-gray-50 p-6 rounded-xl border border-gray-100">
                        <div class="text-blue-600 font-bold text-xl mb-2">2. It's Standard Procedure</div>
                        <p class="text-gray-600 text-sm leading-relaxed">
                            California law (Civil Code § 8200) requires subcontractors and suppliers to send this notice for jobs over $500. Professional contractors send these on every single job as a matter of routine compliance.
                        </p>
                    </div>

                    <div class="bg-gray-50 p-6 rounded-xl border border-gray-100">
                        <div class="text-blue-600 font-bold text-xl mb-2">3. It Protects the Owner</div>
                        <p class="text-gray-600 text-sm leading-relaxed">
                            This notice helps owners track exactly who is working on their property. It prevents "surprise" liens from unknown subcontractors and ensures everyone on the job gets paid fairly.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="max-w-4xl mx-auto py-16 px-4">
            <h2 class="text-2xl font-bold text-gray-900 mb-8">Frequently Asked Questions</h2>
            <div class="space-y-6">
                <div class="border-b border-gray-200 pb-6">
                    <h3 class="font-bold text-lg text-gray-900 mb-2">Is the tracking number enough proof?</h3>
                    <p class="text-gray-600 text-sm">
                        Yes. According to California Civil Code § 8118, proof of notice can be established by a "return receipt or a photocopy of the record of delivery and receipt maintained by the post office." Our system provides the USPS Certified Mail tracking number which serves as this record.
                    </p>
                </div>
                <div class="border-b border-gray-200 pb-6">
                    <h3 class="font-bold text-lg text-gray-900 mb-2">Can I get a refund?</h3>
                    <p class="text-gray-600 text-sm">
                        If our system fails to generate or mail your letter due to a technical error, we issue a 100% automatic refund. However, once the letter is handed to USPS (indicated by a tracking number), we cannot offer refunds for typos or incorrect addresses, as the postage has already been paid.
                    </p>
                </div>
                <div>
                    <h3 class="font-bold text-lg text-gray-900 mb-2">What if I don't know the exact legal owner?</h3>
                    <p class="text-gray-600 text-sm">
                        You must make a "good faith" effort to find them. Check your contract, check the building permit at the job site, or check with the County Assessor. Serving the wrong person can invalidate your notice.
                    </p>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-white border-t border-gray-200 py-12">
        <div class="max-w-6xl mx-auto px-4 text-center">
            <p class="text-gray-500 text-sm mb-4">&copy; 2026 SendMyNotice. All rights reserved.</p>
            <div class="flex justify-center gap-6 text-sm text-gray-400">
                <a href="mailto:support@sendmynotice.com" class="hover:text-gray-900 transition">Contact Support</a>
                <span>•</span>
                <span class="cursor-help" title="We use industry standard encryption via Stripe and Lob.">Secure & Encrypted</span>
            </div>
        </div>
    </footer>

    <script>
        const priceInput = document.getElementById('price-input');
        if (priceInput) {
            priceInput.addEventListener('input', function(e) {
                let value = this.value.replace(/[^\d.]/g, '');
                const parts = value.split('.');
                parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                this.value = parts.length > 2 ? parts[0] + "." + parts.slice(1).join('') : parts.join('.');
            });
        }
    </script>
</body>
</html>